!function(){function s(s){var e,t,n=[],i=$.inidb.GetKeyList(s,"");for(t in i)switch(s){case"time":e=parseInt($.inidb.get(s,i[t])),e>=600&&(n[i[t]]=$.inidb.get(s,i[t]));break;case"points":e=parseInt($.inidb.get(s,i[t])),e>=10&&(n[i[t]]=$.inidb.get(s,i[t]));break;default:n[i[t]]=$.inidb.get(s,i[t])}return n}function e(s,e){var t;for(t in e)$.inidb.set(s,t,e[t])}if(!$.inidb.exists("updates","installedv2")||"true"!=$.inidb.get("updates","installedv2")){var t,n,i,o,a=$.inidb.GetFileList(),l=["./games/8ball.js","./games/adventureSystem.js","./games/killCommand.js","./commands/topCommand.js","./games/random.js","./games/roll.js","./games/roulette.js","./games/slotMachine.js","./handlers/followHandler.js","./handlers/hostHandler.js","./handlers/subscribeHandler.js","./handlers/donationHandler.js","./systems/cleanupSystem.js","./systems/greetingSystem.js","./systems/pointSystem.js","./systems/noticeSystem.js","./systems/pollSystem.js","./systems/quoteSystem.js","./systems/raffleSystem.js","./systems/ticketraffleSystem.js","./systems/raidSystem.js","./systems/youtubePlayer.js"];if($.inidb.FileExists("settings")){$.consoleLn("Starting PhantomBot version 2.0 updates..."),$.consoleLn("Backing up commands..."),t=s("command"),$.consoleLn("Backing up times..."),n=s("time"),$.consoleLn("Backing up points..."),i=s("points"),$.consoleLn("Backup completed."),$.consoleLn("Deleting old files...");for(o in a)$.inidb.RemoveFile(a[o]);$.consoleLn("Restoring commands..."),e("command",t),$.consoleLn("Restoring times..."),e("time",n),$.consoleLn("Restoring points..."),e("points",i)}$.consoleLn("Disabling default modules...");for(o in l)$.inidb.set("modules",l[o],"false");$.consoleLn("PhantomBot v2.0 updates completed!"),$.inidb.set("updates","installedv2","true")}if(!$.inidb.exists("updates","installedv2.0.5")||"true"!=$.inidb.get("updates","installedv2.0.5")){var d=["./systems/betSystem.js","./systems/wordCounter.js"];$.consoleLn("Starting PhantomBot version 2.0.5 updates..."),$.consoleLn("Disabling new default modules...");for(o in d)$.inidb.set("modules",l[o],"false");$.consoleLn("PhantomBot v2.0.5 updates completed!"),$.inidb.set("updates","installedv2.0.5","true")}}();
