!function(){function e(){var e=$.inidb.GetKeyList("blackList","");for(c in e)f.push($.inidb.get("blackList",e[c]));$.consoleDebug("blacklist loaded")}function r(){var e=$.inidb.GetKeyList("whiteList","");for(c in e)p.push($.inidb.get("whiteList",e[c]));$.consoleDebug("whitelist loadee")}function a(e,r){$.say(".timeout "+e+" "+r),setTimeout(function(){$.say(".timeout "+e+" "+r)},1e3)}function s(e){for(c in u)if(u[c].equalsIgnoreCase(e))return a(e,z),o(e),void(J=$.lang.get("chatmoderator.timeout"));a(e,W),o(e),J=$.lang.get("chatmoderator.warning")}function t(e,r){b.length<=1&&$.say("@"+$.username.resolve(e)+", "+r+" "+J)}function o(e){u.push(e),i(e),H>0&&b.push($.systemTime())}function i(e){if(H>0)var r=setTimeout(function(){b.splice(0),clearTimeout(r)},1e3*H);var a=setTimeout(function(){for(c in u)if(u[c].equalsIgnoreCase(e)){u.splice(c,0);break}clearTimeout(a)},36e5)}function n(e){h.push(e);var r=setTimeout(function(){for(c in h)if(h[c].equalsIgnoreCase(e)){h.splice(c,1);break}clearTimeout(r)},1e3*w)}function g(e){return e?$.lang.get("common.enabled"):$.lang.get("common.disabled")}function l(e){var r=e.getSender(),s=e.getMessage().toLowerCase();for(c in f)if(s.contains(f[c].toLowerCase()))return a(r,z),J=$.lang.get("chatmoderator.timeout"),t(r,U),!0;return!1}function d(e){var r=e.getSender();e.getMessage().toLowerCase();for(c in h)if(h[c].equalsIgnoreCase(r)&&$.patternDetector.hasLinks(e))return h.splice(c,1),!0;return!1}function m(e){var r=(e.getSender(),e.getMessage().toLowerCase());for(c in p)if(r.contains(p[c]))return!0;return!1}var c,h=[],u=[],b=[],p=[],f=[],M=$.inidb.exists("chatModerator","linksToggle")?$.getIniDbBoolean("chatModerator","linksToggle"):!0,y=$.inidb.exists("chatModerator","linksMessage")?$.inidb.get("chatModerator","linksMessage"):"you were timed out for linking",w=$.inidb.exists("chatModerator","linkPermitTime")?parseInt($.inidb.get("chatModerator","linkPermitTime")):120,C=$.inidb.exists("chatModerator","capsToggle")?$.getIniDbBoolean("chatModerator","capsToggle"):!0,x=$.inidb.exists("chatModerator","capsMessage")?$.inidb.get("chatModerator","capsMessage"):"you were timed out for overusing caps",I=$.inidb.exists("chatModerator","capsLimitPercent")?parseFloat($.inidb.get("chatModerator","capsLimitPercent")):50,P=$.inidb.exists("chatModerator","capsTriggerLength")?parseInt($.inidb.get("chatModerator","capsTriggerLength")):15,v=$.inidb.exists("chatModerator","spamToggle")?$.getIniDbBoolean("chatModerator","spamToggle"):!0,q=$.inidb.exists("chatModerator","spamMessage")?$.inidb.get("chatModerator","spamMessage"):"you were timed out for spamming",L=$.inidb.exists("chatModerator","spamLimit")?parseInt($.inidb.get("chatModerator","spamLimit")):15,k=$.inidb.exists("chatModerator","symbolsToggle")?$.getIniDbBoolean("chatModerator","symbolsToggle"):!0,S=$.inidb.exists("chatModerator","symbolsMessage")?$.inidb.get("chatModerator","symbolsMessage"):"you were timed out for overusing symbols",T=$.inidb.exists("chatModerator","symbolsLimitPercent")?parseFloat($.inidb.get("chatModerator","symbolsLimitPercent")):50,D=$.inidb.exists("chatModerator","symbolsGroupLimit")?parseFloat($.inidb.get("chatModerator","symbolsGroupLimit")):10,E=$.inidb.exists("chatModerator","symbolsTriggerLength")?parseInt($.inidb.get("chatModerator","symbolsTriggerLength")):5,B=$.inidb.exists("chatModerator","emotesToggle")?$.getIniDbBoolean("chatModerator","emotesToggle"):!0,_=$.inidb.exists("chatModerator","emotesMessage")?$.inidb.get("chatModerator","emotesMessage"):"you were timed out for overusing emotes",R=$.inidb.exists("chatModerator","emotesLimit")?parseInt($.inidb.get("chatModerator","emotesLimit")):15,F=$.inidb.exists("chatModerator","longMessageToggle")?$.getIniDbBoolean("chatModerator","longMessageToggle"):!0,j=$.inidb.exists("chatModerator","longMessageMessage")?$.inidb.get("chatModerator","longMessageMessage"):"you were timed out for posting a long message",A=$.inidb.exists("chatModerator","longMessageLimit")?parseInt($.inidb.get("chatModerator","longMessageLimit")):300,N=$.inidb.exists("chatModerator","colorsToggle")?$.getIniDbBoolean("chatModerator","colorsToggle"):!0,G=$.inidb.exists("chatModerator","colorsMessage")?$.inidb.get("chatModerator","colorsMessage"):"you were timed out for posting a colored message",O={Links:$.inidb.exists("chatModerator","subscribersModerateLinks")?$.getIniDbBoolean("chatModerator","subscribersModerateLinks"):!0,Caps:$.inidb.exists("chatModerator","subscribersModerateCaps")?$.getIniDbBoolean("chatModerator","subscribersModerateCaps"):!0,Symbols:$.inidb.exists("chatModerator","subscribersModerateSymbols")?$.getIniDbBoolean("chatModerator","subscribersModerateSymbols"):!0,Spam:$.inidb.exists("chatModerator","subscribersModerateSpam")?$.getIniDbBoolean("chatModerator","subscribersModerateSpam"):!0,Emotes:$.inidb.exists("chatModerator","subscribersModerateEmotes")?$.getIniDbBoolean("chatModerator","subscribersModerateEmotes"):!0,Colors:$.inidb.exists("chatModerator","subscribersModerateColors")?$.getIniDbBoolean("chatModerator","subscribersModerateColors"):!0,LongMsg:$.inidb.exists("chatModerator","subscribersModerateLongMsg")?$.getIniDbBoolean("chatModerator","subscribersModerateLongMsg"):!0},K={Links:$.inidb.exists("chatModerator","regularsModerateLinks")?$.getIniDbBoolean("chatModerator","regularsModerateLinks"):!0,Caps:$.inidb.exists("chatModerator","regularsModerateCaps")?$.getIniDbBoolean("chatModerator","regularsModerateCaps"):!0,Symbols:$.inidb.exists("chatModerator","regularsModerateSymbols")?$.getIniDbBoolean("chatModerator","regularsModerateSymbols"):!0,Spam:$.inidb.exists("chatModerator","regularsModerateSpam")?$.getIniDbBoolean("chatModerator","regularsModerateSpam"):!0,Emotes:$.inidb.exists("chatModerator","regularsModerateEmotes")?$.getIniDbBoolean("chatModerator","regularsModerateEmotes"):!0,Colors:$.inidb.exists("chatModerator","regularsModerateColors")?$.getIniDbBoolean("chatModerator","regularsModerateColors"):!0,LongMsg:$.inidb.exists("chatModerator","regularsModerateLongMsg")?$.getIniDbBoolean("chatModerator","regularsModerateLongMsg"):!0},U=$.inidb.exists("chatModerator","blacklistMessage")?$.inidb.get("chatModerator","blacklistMessage"):"you were timed out using a blacklisted phrase",W=$.inidb.exists("chatModerator","warningTime")?parseInt($.inidb.get("chatModerator","warningTime")):5,z=$.inidb.exists("chatModerator","timeoutTime")?parseInt($.inidb.get("chatModerator","timeoutTime")):600,H=$.inidb.exists("chatModerator","msgCooldownSec")?parseInt($.inidb.get("chatModerator","msgCooldownSec")):20,J="";$.bind("ircChannelMessage",function(e){var r=e.getSender(),a=e.getMessage(),o=a.length();if(!$.isModv3(r,e.getTags())){if(a&&l(e))return;if(M&&$.patternDetector.hasLinks(e)){if($.youtubePlayerConnected&&a.contains("youtube.com")||a.contains("youtu.be"))return;if(a&&d(e)||m(e))return;if(!K.Links&&$.isReg(r)||!O.Links&&$.isSubv3(r,e.getTags()))return;return s(r),void t(r,y)}if(C&&o>P){if(!K.Caps&&$.isReg(r)||!O.Caps&&$.isSubv3(r,e.getTags()))return;if(parseFloat($.patternDetector.getNumberOfCaps(e))/o*100>I)return s(r),void t(r,x)}if(k&&o>E){if(!K.Symbols&&$.isReg(r)||!O.Symbols&&$.isSubv3(r,e.getTags()))return;if($.patternDetector.getLongestNonLetterSequence(e)>D)return s(r),void t(r,S);if(parseFloat($.patternDetector.getNumberOfNonLetters(e))/o*100>T)return s(r),void t(r,S)}if(v&&$.patternDetector.getLongestRepeatedSequence(e)>L){if(!K.Spam&&$.isReg(r)||!O.Spam&&$.isSubv3(r,e.getTags()))return;return s(r),void t(r,q)}if(B&&$.patternDetector.getNumberOfEmotes(e)>R){if(!K.Emotes&&$.isReg(r)||!O.Emotes&&$.isSubv3(r,e.getTags()))return;return s(r),void t(r,_)}if(N&&a.startsWith("/me")){if(!K.Colors&&$.isReg(r)||!O.Colors&&$.isSubv3(r,e.getTags()))return;return s(r),void t(r,G)}if(F&&o>A){if(!K.LongMsg&&$.isReg(r)||!O.LongMsg&&$.isSubv3(r,e.getTags()))return;s(r),t(r,j)}}}),$.bind("command",function(a){var s=a.getSender(),t=a.getCommand(),o=a.getArguments(),i=a.getArgs(),l=i[0],d=i[1];if(t.equalsIgnoreCase("permit"))return $.isModv3(s,a.getTags())?l?(n(l),void $.say($.username.resolve(l)+$.lang.get("chatmoderator.permited",w))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.permit.usage")):void $.say($.whisperPrefix(s)+$.modMsg);if(t.equalsIgnoreCase("blacklist")){if(!$.isAdmin(s))return void $.say($.whisperPrefix(s)+$.adminMsg);if(!l)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.blacklist.usage"));if(l.equalsIgnoreCase("add")){if(!d)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.blacklist.add.usage"));var m=o.replace(l,"").trim().toLowerCase();$.inidb.set("blackList","phrase_"+f.length,m),f.push(m),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.blacklist.added"))}if(l.equalsIgnoreCase("remove")){if(!d)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.blacklist.remove.usage"));if(!$.inidb.exists("blackList","phrase_"+parseInt(d)))return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.err"));$.inidb.del("blackList","phrase_"+parseInt(d)),e(),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.blacklist.removed"))}if(l.equalsIgnoreCase("show")){if(!d)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.blacklist.show.usage"));if(!$.inidb.exists("blackList","phrase_"+parseInt(d)))return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.err"));$.say($.whisperPrefix(s)+$.inidb.get("blackList","phrase_"+parseInt(d)))}}if(t.equalsIgnoreCase("whiteList")){if(!$.isAdmin(s))return void $.say($.whisperPrefix(s)+$.adminMsg);if(!l)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.whitelist.usage"));if(l.equalsIgnoreCase("add")){if(!d)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.whitelist.add.usage"));var c=o.replace(l,"").trim().toLowerCase();$.inidb.set("whiteList","link_"+p.length,c),p.push(c),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.whitelist.link.added"))}if(l.equalsIgnoreCase("remove")){if(!d)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.whitelist.remove.usage"));if(!$.inidb.exists("whiteList","link_"+parseInt(d)))return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.err"));$.inidb.del("whiteList","link_"+parseInt(d)),r(),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.whitelist.removed"))}if(l.equalsIgnoreCase("show")){if(!d)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.whitelist.show.usage"));if(!$.inidb.exists("whiteList","link_"+parseInt(d)))return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.err"));$.say($.whisperPrefix(s)+$.inidb.get("whiteList","link_"+parseInt(d)))}}if(t.equalsIgnoreCase("moderation")||t.equalsIgnoreCase("mod")){if(!$.isAdmin(s))return void $.say($.whisperPrefix(s)+$.adminMsg);if(!l)return $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.usage.toggles")),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.usage.messages")),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.options"));if(l.equalsIgnoreCase("links")){if(!d)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.link.usage",g(M)));if(d.equalsIgnoreCase("on"))return M=!0,$.inidb.set("chatModerator","linksToggle",M),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.link.filter.enabled"));if(d.equalsIgnoreCase("off"))return M=!1,$.inidb.set("chatModerator","linksToggle",M),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.link.filter.disabled"))}if(l.equalsIgnoreCase("caps")){if(!d)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.caps.usage",g(C)));if(d.equalsIgnoreCase("on"))return C=!0,$.inidb.set("chatModerator","capsToggle",C),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.caps.filter.enabled"));if(d.equalsIgnoreCase("off"))return C=!1,$.inidb.set("chatModerator","capsToggle",C),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.caps.filter.disabled"))}if(l.equalsIgnoreCase("spam")){if(!d)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.spam.usage",g(v)));if(d.equalsIgnoreCase("on"))return v=!0,$.inidb.set("chatModerator","spamToggle",v),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.spam.filter.enabled"));if(d.equalsIgnoreCase("off"))return v=!1,$.inidb.set("chatModerator","spamToggle",v),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.spam.filter.disabled"))}if(l.equalsIgnoreCase("symbols")){if(!d)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.symbols.usage",g(k)));if(d.equalsIgnoreCase("on"))return k=!0,$.inidb.set("chatModerator","symbolsToggle",k),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.symbols.filter.enabled"));if(d.equalsIgnoreCase("off"))return k=!1,$.inidb.set("chatModerator","symbolsToggle",k),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.symbols.filter.disabled"))}if(l.equalsIgnoreCase("emotes")){if(!d)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.emotes.usage",g(B)));if(d.equalsIgnoreCase("on"))return B=!0,$.inidb.set("chatModerator","emotesToggle",B),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.emotes.filter.enabled"));if(d.equalsIgnoreCase("off"))return B=!1,$.inidb.set("chatModerator","emotesToggle",B),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.emotes.filter.disabled"))}if(l.equalsIgnoreCase("colors")){if(!d)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.colors.usage",g(N)));if(d.equalsIgnoreCase("on"))return N=!0,$.inidb.set("chatModerator","colorsToggle",N),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.colors.filter.enabled"));if(d.equalsIgnoreCase("off"))return N=!1,$.inidb.set("chatModerator","colorsToggle",N),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.colors.filter.disabled"))}if(l.equalsIgnoreCase("longmessages")){if(!d)return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.message.usage",g(F)));if(d.equalsIgnoreCase("on"))return F=!0,$.inidb.set("chatModerator","longMessageToggle",F),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.message.filter.enabled"));if(d.equalsIgnoreCase("off"))return F=!1,$.inidb.set("chatModerator","longMessageToggle",F),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.message.filter.disabled"))}if(l.equalsIgnoreCase("regulars")){if(!d||!i[2])return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.usage",K.Links,K.Caps,K.Symbols,K.Spam,K.Emotes,K.Colors,K.LongMsg));d.equalsIgnoreCase("links")?i[2].equalsIgnoreCase("true")?(K.Links=!0,$.inidb.set("chatModerator","regularsModerateLinks",K.Links),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.links.allowed"))):i[2].equalsIgnoreCase("false")&&(K.Links=!1,$.inidb.set("chatModerator","regularsModerateLinks",K.Links),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.links.not.allowed"))):d.equalsIgnoreCase("caps")?i[2].equalsIgnoreCase("true")?(K.Caps=!0,$.inidb.set("chatModerator","regularsModerateCaps",K.Caps),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.caps.allowed"))):i[2].equalsIgnoreCase("false")&&(K.Caps=!1,$.inidb.set("chatModerator","regularsModerateCaps",K.Caps),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.caps.not.allowed"))):d.equalsIgnoreCase("symbols")?i[2].equalsIgnoreCase("true")?(K.Symbols=!0,$.inidb.set("chatModerator","regularsModerateSymbols",K.Symbols),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.symbols.allowed"))):i[2].equalsIgnoreCase("false")&&(K.Symbols=!1,$.inidb.set("chatModerator","regularsModerateSymbols",K.Symbols),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.symbols.not.allowed"))):d.equalsIgnoreCase("spam")?i[2].equalsIgnoreCase("true")?(K.Spam=!0,$.inidb.set("chatModerator","regularsModerateSpam",K.Spam),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.spam.allowed"))):i[2].equalsIgnoreCase("false")&&(K.Spam=!1,$.inidb.set("chatModerator","regularsModerateSpam",K.Spam),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.spam.not.allowed"))):d.equalsIgnoreCase("emotes")?i[2].equalsIgnoreCase("true")?(K.Emotes=!0,$.inidb.set("chatModerator","regularsModerateEmotes",K.Emotes),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.emotes.allowed"))):i[2].equalsIgnoreCase("false")&&(K.Emotes=!1,$.inidb.set("chatModerator","regularsModerateEmotes",K.Emotes),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.emotes.not.allowed"))):d.equalsIgnoreCase("colors")?i[2].equalsIgnoreCase("true")?(K.Colors=!0,$.inidb.set("chatModerator","regularsModerateColors",K.Colors),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.colors.allowed"))):i[2].equalsIgnoreCase("false")&&(K.Colors=!1,$.inidb.set("chatModerator","regularsModerateColors",K.Colors),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.colors.not.allowed"))):d.equalsIgnoreCase("longmessages")&&(i[2].equalsIgnoreCase("true")?(K.LongMsg=!0,$.inidb.set("chatModerator","regularsModerateLongMsg",K.LongMsg),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.long.messages.allowed"))):i[2].equalsIgnoreCase("false")&&(K.LongMsg=!1,$.inidb.set("chatModerator","regularsModerateLongMsg",K.LongMsg),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.regulars.long.messages.not.allowed"))))}if(l.equalsIgnoreCase("subscribers")){if(!d||!i[2])return void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.usage",O.Links,O.Caps,O.Symbols,O.Spam,O.Emotes,O.Colors,O.LongMsg));d.equalsIgnoreCase("links")?i[2].equalsIgnoreCase("true")?(O.Links=!0,$.inidb.set("chatModerator","subscribersModerateLinks",O.Links),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.links.allowed"))):i[2].equalsIgnoreCase("false")&&(O.Links=!1,$.inidb.set("chatModerator","subscribersModerateLinks",O.Links),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.links.not.allowed"))):d.equalsIgnoreCase("caps")?i[2].equalsIgnoreCase("true")?(O.Caps=!0,$.inidb.set("chatModerator","subscribersModerateCaps",O.Caps),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.caps.allowed"))):i[2].equalsIgnoreCase("false")&&(O.Caps=!1,$.inidb.set("chatModerator","subscribersModerateCaps",O.Caps),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.caps.not.allowed"))):d.equalsIgnoreCase("symbols")?i[2].equalsIgnoreCase("true")?(O.Symbols=!0,$.inidb.set("chatModerator","subscribersModerateSymbols",O.Symbols),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.symbols.allowed"))):i[2].equalsIgnoreCase("false")&&(O.Symbols=!1,$.inidb.set("chatModerator","subscribersModerateSymbols",O.Symbols),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.symbols.not.allowed"))):d.equalsIgnoreCase("spam")?i[2].equalsIgnoreCase("true")?(O.Spam=!0,$.inidb.set("chatModerator","subscribersModerateSpam",O.Spam),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.spam.allowed"))):i[2].equalsIgnoreCase("false")&&(O.Spam=!1,$.inidb.set("chatModerator","subscribersModerateSpam",O.Spam),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.spam.not.allowed"))):d.equalsIgnoreCase("emotes")?i[2].equalsIgnoreCase("true")?(O.Emotes=!0,$.inidb.set("chatModerator","subscribersModerateEmotes",O.Emotes),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.emotes.allowed"))):i[2].equalsIgnoreCase("false")&&(O.Emotes=!1,$.inidb.set("chatModerator","subscribersModerateEmotes",O.Emotes),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.emotes.not.allowed"))):d.equalsIgnoreCase("colors")?i[2].equalsIgnoreCase("true")?(O.Colors=!0,$.inidb.set("chatModerator","subscribersModerateColors",O.Colors),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.colors.allowed"))):i[2].equalsIgnoreCase("false")&&(O.Colors=!1,$.inidb.set("chatModerator","subscribersModerateColors",O.Colors),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.colors.not.allowed"))):d.equalsIgnoreCase("longmessages")&&(i[2].equalsIgnoreCase("true")?(O.LongMsg=!0,$.inidb.set("chatModerator","subscribersModerateLongMsg",O.LongMsg),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.long.messages.allowed"))):i[2].equalsIgnoreCase("false")&&(O.LongMsg=!1,$.inidb.set("chatModerator","subscribersModerateLongMsg",O.LongMsg),$.say($.whisperPrefix(s)+$.lang.get("chatmoderator.subscribers.long.messages.not.allowed"))))}if(l.equalsIgnoreCase("linksmessage"))return d?(y=o.replace(l,"").trim(),$.inidb.set("chatModerator","linksMessage",y),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.link.message.set",y))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.link.message.usage"));if(l.equalsIgnoreCase("capsmessage"))return d?(x=o.replace(l,"").trim(),$.inidb.set("chatModerator","capsMessage",x),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.caps.message.set",x))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.caps.message.usage"));if(l.equalsIgnoreCase("symbolsmessage"))return d?(S=o.replace(l,"").trim(),$.inidb.set("chatModerator","symbolsMessage",S),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.symbols.message.set",S))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.symbols.message.usage"));if(l.equalsIgnoreCase("emotesmessage"))return d?(_=o.replace(l,"").trim(),$.inidb.set("chatModerator","emotesMessage",_),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.emotes.message.set",_))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.emotes.message.usage"));if(l.equalsIgnoreCase("colorsmessage"))return d?(G=o.replace(l,"").trim(),$.inidb.set("chatModerator","colorsMessage",G),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.colors.message.set",G))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.colors.message.usage"));if(l.equalsIgnoreCase("longmsgmessage"))return d?(j=o.replace(l,"").trim(),$.inidb.set("chatModerator","longMessageMessage",j),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.message.message.set",j))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.message.message.usage"));if(l.equalsIgnoreCase("spammessage"))return d?(q=o.replace(l,"").trim(),$.inidb.set("chatModerator","spamMessage",q),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.spam.message.set",q))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.spam.message.usage"));if(l.equalsIgnoreCase("blacklistmessage"))return d?(U=o.replace(l,"").trim(),$.inidb.set("chatModerator","blacklistMessage",U),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.blacklist.message.set",U))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.blacklist.message.usage"));if(l.equalsIgnoreCase("permittime"))return d?(w=parseInt(d),$.inidb.set("chatModerator","linkPermitTime",w),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.permit.time.set",w))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.permit.time.usage"));if(l.equalsIgnoreCase("capslimit"))return d?(I=parseFloat(d),$.inidb.set("chatModerator","capsLimitPercent",I),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.caps.limit.set",I))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.caps.limit.usage"));if(l.equalsIgnoreCase("capstriggerlength"))return d?(P=parseInt(d),$.inidb.set("chatModerator","capsTriggerLength",P),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.caps.trigger.length.set",capsLimit))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.caps.trigger.length.usage"));if(l.equalsIgnoreCase("spamlimit"))return d?(L=parseInt(d),$.inidb.set("chatModerator","spamLimit",L),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.spam.limit.set",L))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.spam.limit.usage"));if(l.equalsIgnoreCase("symbolslimit"))return d?(T=parseFloat(d),$.inidb.set("chatModerator","symbolsLimitPercent",T),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.symbols.limit.set",T))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.symbols.limit.usage"));if(l.equalsIgnoreCase("symbolsgrouplimit"))return d?(D=parseInt(d),$.inidb.set("chatModerator","symbolsLimitPercent",D),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.symbols.group.limit.set",D))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.symbols.group.limit.usage"));if(l.equalsIgnoreCase("symbolsTriggerLength"))return d?(E=parseInt(d),$.inidb.set("chatModerator","symbolsTriggerLength",E),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.symbols.trigger.length.set",E))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.symbols.trigger.length.usage"));if(l.equalsIgnoreCase("emoteslimit"))return d?(R=parseInt(d),$.inidb.set("chatModerator","emotesLimit",R),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.emotes.limit.set",R))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.emotes.limit.usage"));if(l.equalsIgnoreCase("messagecharacterlimit"))return d?(A=parseInt(d),$.inidb.set("chatModerator","longMessageLimit",A),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.message.limit.set",A))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.message.limit.usage"));if(l.equalsIgnoreCase("timeouttime"))return d?(z=parseInt(d),$.inidb.set("chatModerator","timeoutTime",z),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.timeout.time.set",z))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.timeout.time.usage"));if(l.equalsIgnoreCase("warningtime"))return d?(W=parseInt(d),$.inidb.set("chatModerator","warningTime",W),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.warning.time.set",W))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.warning.time.usage"));if(l.equalsIgnoreCase("messagecooldown"))return d?(H=parseInt(d),$.inidb.set("chatModerator","msgCooldownSec",H),void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.msgcooldown.set",H))):void $.say($.whisperPrefix(s)+$.lang.get("chatmoderator.msgcooldown.usage"))}}),$.bind("initReady",function(){$.bot.isModuleEnabled("./core/chatmoderator.js")&&(r(),e(),$.registerChatCommand("./core/chatmoderator.js","permit",2),$.registerChatCommand("./core/chatmoderator.js","moderation",1),$.registerChatCommand("./core/chatmoderator.js","mod",1),$.registerChatCommand("./core/chatmoderator.js","blacklist",1),$.registerChatCommand("./core/chatmoderator.js","whitelist",1))}),$.timeoutUser=a,$.permitUserLink=n}();
