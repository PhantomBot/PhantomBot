!function(){function e(){y=$.getIniDbBoolean("chatModerator","linksToggle"),w=$.getIniDbString("chatModerator","linksMessage"),I=$.getIniDbNumber("chatModerator","linkPermitTime"),v=$.getIniDbBoolean("chatModerator","capsToggle"),C=$.getIniDbString("chatModerator","capsMessage"),P=$.getIniDbFloat("chatModerator","capsLimitPercent"),x=$.getIniDbNumber("chatModerator","capsTriggerLength"),S=$.getIniDbBoolean("chatModerator","spamToggle"),L=$.getIniDbString("chatModerator","spamMessage"),E=$.getIniDbNumber("chatModerator","spamLimit"),k=$.getIniDbBoolean("chatModerator","symbolsToggle"),q=$.getIniDbString("chatModerator","symbolsMessage"),D=$.getIniDbFloat("chatModerator","symbolsLimitPercent"),j=$.getIniDbFloat("chatModerator","symbolsGroupLimit"),T=$.getIniDbNumber("chatModerator","symbolsTriggerLength"),B=$.getIniDbBoolean("chatModerator","emotesToggle"),N=$.getIniDbString("chatModerator","emotesMessage"),F=$.getIniDbNumber("chatModerator","emotesLimit"),_=$.getIniDbBoolean("chatModerator","longMessageToggle"),R=$.getIniDbBoolean("chatModerator","longMessageMessage"),A=$.getIniDbNumber("chatModerator","longMessageLimit"),G=$.getIniDbBoolean("chatModerator","colorsToggle"),O=$.getIniDbString("chatModerator","colorsMessage"),U={Links:$.getIniDbBoolean("chatModerator","subscribersModerateLinks"),Caps:$.getIniDbBoolean("chatModerator","subscribersModerateCaps"),Symbols:$.getIniDbBoolean("chatModerator","subscribersModerateSymbols"),Spam:$.getIniDbBoolean("chatModerator","subscribersModerateSpam"),Emotes:$.getIniDbBoolean("chatModerator","subscribersModerateEmotes"),Colors:$.getIniDbBoolean("chatModerator","subscribersModerateColors"),LongMsg:$.getIniDbBoolean("chatModerator","subscribersModerateLongMsg")},K={Links:$.getIniDbBoolean("chatModerator","regularsModerateLinks"),Caps:$.getIniDbBoolean("chatModerator","regularsModerateCaps"),Symbols:$.getIniDbBoolean("chatModerator","regularsModerateSymbols"),Spam:$.getIniDbBoolean("chatModerator","regularsModerateSpam"),Emotes:$.getIniDbBoolean("chatModerator","regularsModerateEmotes"),Colors:$.getIniDbBoolean("chatModerator","regularsModerateColors"),LongMsg:$.getIniDbBoolean("chatModerator","regularsModerateLongMsg")},H={Links:$.getIniDbBoolean("chatModerator","silentTimeoutLinks"),Caps:$.getIniDbBoolean("chatModerator","silentTimeoutCaps"),Symbols:$.getIniDbBoolean("chatModerator","silentTimeoutSymbols"),Spam:$.getIniDbBoolean("chatModerator","silentTimeoutSpam"),Emotes:$.getIniDbBoolean("chatModerator","silentTimeoutEmotes"),Colors:$.getIniDbBoolean("chatModerator","silentTimeoutColors"),LongMsg:$.getIniDbBoolean("chatModerator","silentTimeoutLongMsg"),Blacklist:$.getSetIniDbBoolean("chatModerator","silentTimeoutBlacklist")},W=$.getIniDbString("chatModerator","blacklistMessage"),z=$.getIniDbNumber("chatModerator","warningTime",5),J=$.getIniDbNumber("chatModerator","timeoutTime",600),t(),a()}function t(){var e=$.inidb.GetKeyList("blackList","");for(u in e)p.push($.inidb.get("blackList",e[u]))}function a(){var e=$.inidb.GetKeyList("whiteList","");for(u in e)M.push($.inidb.get("whiteList",e[u]))}function r(e,t){$.say(".timeout "+e+" "+t),setTimeout(function(){$.say(".timeout "+e+" "+t)},1e3)}function o(e){if(void 0!==f[e]){var t=f[e]-$.systemTime();return void(t>0?(r(e,J),f[e]=X,s(e),V=$.lang.get("chatmoderator.timeout")):(r(e,z),f[e]=X,s(e),V=$.lang.get("chatmoderator.warning")))}r(e,z),f[e]=X,s(e),V=$.lang.get("chatmoderator.warning")}function s(e){$.bot.isModuleEnabled("./handlers/panelHandler.js")&&$.panelDB.updateModLinesDB(e)}function i(e,t,a){Z=Y-$.systemTime(),0>=Z&&(a||($.say("@"+$.username.resolve(e)+", "+t+" "+V),Y=1e3*Q+$.systemTime()))}function n(e){b[e]=1e3*I+$.systemTime()}function g(e,t){return t?e?$.lang.get("common.enabled"):$.lang.get("common.disabled"):e?"not allowed":"allowed"}function l(e){if(void 0!==b[e]){var t=b[e]-$.systemTime();if(t>0)return!0}return!1}function d(e,t){for(u in p)if(t.contains(p[u]))return timeoutUser(e,J),V=$.lang.get("chatmoderator.timeout"),i(e,W,H.Blacklist),!0;return!1}function m(e){for(u in M)if(e.contains(M[u]))return!0;return!1}function c(e){return!!($.youtubePlayerConnected&&e.contains("youtube.com")||e.contains("youtu.be"))}function h(e){var t=e.getSender(),a=e.getCommand(),r=e.getArguments(),o=e.getArgs(),s=o[0],i=o[1];if(a.equalsIgnoreCase("moderation")||a.equalsIgnoreCase("mod")){if(!$.isAdmin(t))return void $.say($.whisperPrefix(t)+$.adminMsg);if(!s)return $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.usage.toggles")),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.usage.messages")),void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.options"));if(s.equalsIgnoreCase("links")){if(!i)return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.link.usage",g(y,!0)));if(i.equalsIgnoreCase("on"))return y=!0,$.inidb.set("chatModerator","linksToggle",y),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.link.filter.enabled")),void $.logEvent("chatModerator.js",518,"Link filter has been enabled by "+t);if(i.equalsIgnoreCase("off"))return y=!1,$.inidb.set("chatModerator","linksToggle",y),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.link.filter.disabled")),void $.logEvent("chatModerator.js",524,"Link filter was disabled by "+t)}if(s.equalsIgnoreCase("caps")){if(!i)return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.caps.usage",g(v,!0)));if(i.equalsIgnoreCase("on"))return v=!0,$.inidb.set("chatModerator","capsToggle",v),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.caps.filter.enabled")),void $.logEvent("chatModerator.js",542,"Caps filter was enabled by "+t);if(i.equalsIgnoreCase("off"))return v=!1,$.inidb.set("chatModerator","capsToggle",v),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.caps.filter.disabled")),void $.logEvent("chatModerator.js",548,"Caps filter was disabled by "+t)}if(s.equalsIgnoreCase("spam")){if(!i)return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.spam.usage",g(S,!0)));if(i.equalsIgnoreCase("on"))return S=!0,$.inidb.set("chatModerator","spamToggle",S),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.spam.filter.enabled")),void $.logEvent("chatModerator.js",566,"Spam filter was enabled by "+t);if(i.equalsIgnoreCase("off"))return S=!1,$.inidb.set("chatModerator","spamToggle",S),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.spam.filter.disabled")),void $.logEvent("chatModerator.js",572,"Spam filter was disabled by "+t)}if(s.equalsIgnoreCase("symbols")){if(!i)return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.symbols.usage",g(k,!0)));if(i.equalsIgnoreCase("on"))return k=!0,$.inidb.set("chatModerator","symbolsToggle",k),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.symbols.filter.enabled")),void $.logEvent("chatModerator.js",590,"Symbols filter was enabled by "+t);if(i.equalsIgnoreCase("off"))return k=!1,$.inidb.set("chatModerator","symbolsToggle",k),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.symbols.filter.disabled")),void $.logEvent("chatModerator.js",596,"Symbols filter was enabled by "+t)}if(s.equalsIgnoreCase("emotes")){if(!i)return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.emotes.usage",g(B,!0)));if(i.equalsIgnoreCase("on"))return B=!0,$.inidb.set("chatModerator","emotesToggle",B),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.emotes.filter.enabled")),void $.logEvent("chatModerator.js",614,"Emotes filter was enabled by "+t);if(i.equalsIgnoreCase("off"))return B=!1,$.inidb.set("chatModerator","emotesToggle",B),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.emotes.filter.disabled")),void $.logEvent("chatModerator.js",620,"Emotes filter was disabled by "+t)}if(s.equalsIgnoreCase("colors")){if(!i)return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.colors.usage",g(G,!0)));if(i.equalsIgnoreCase("on"))return G=!0,$.inidb.set("chatModerator","colorsToggle",G),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.colors.filter.enabled")),void $.logEvent("chatModerator.js",638,"Colors filter was enabled by "+t);if(i.equalsIgnoreCase("off"))return G=!1,$.inidb.set("chatModerator","colorsToggle",G),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.colors.filter.disabled")),void $.logEvent("chatModerator.js",644,"Colors filter was disabled by "+t)}if(s.equalsIgnoreCase("longmessages")){if(!i)return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.message.usage",g(_,!0)));if(i.equalsIgnoreCase("on"))return _=!0,$.inidb.set("chatModerator","longMessageToggle",_),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.message.filter.enabled")),void $.logEvent("chatModerator.js",662,"Long message filter was enabled by "+t);if(i.equalsIgnoreCase("off"))return _=!1,$.inidb.set("chatModerator","longMessageToggle",_),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.message.filter.disabled")),void $.logEvent("chatModerator.js",668,"Long message filter was disabled by "+t)}if(s.equalsIgnoreCase("regulars")){if(!i)return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.usage"));if(i.equalsIgnoreCase("links")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.toggle.link",g(K.Links)));o[2].equalsIgnoreCase("true")?(K.Links=!0,$.inidb.set("chatModerator","regularsModerateLinks",K.Links),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.links.allowed")),$.logEvent("chatModerator.js",691,t+" changed regulars moderation for links to true")):o[2].equalsIgnoreCase("false")&&(K.Links=!1,$.inidb.set("chatModerator","regularsModerateLinks",K.Links),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.links.not.allowed")),$.logEvent("chatModerator.js",696,t+" changed regulars moderation for links to false"))}else if(i.equalsIgnoreCase("caps")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.toggle.caps",g(K.Caps)));o[2].equalsIgnoreCase("true")?(K.Caps=!0,$.inidb.set("chatModerator","regularsModerateCaps",K.Caps),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.caps.allowed")),$.logEvent("chatModerator.js",707,t+" changed regulars moderation for caps to true")):o[2].equalsIgnoreCase("false")&&(K.Caps=!1,$.inidb.set("chatModerator","regularsModerateCaps",K.Caps),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.caps.not.allowed")),$.logEvent("chatModerator.js",712,t+" changed regulars moderation for caps to false"))}else if(i.equalsIgnoreCase("symbols")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.toggle.symbols",g(K.Symbols)));o[2].equalsIgnoreCase("true")?(K.Symbols=!0,$.inidb.set("chatModerator","regularsModerateSymbols",K.Symbols),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.symbols.allowed")),$.logEvent("chatModerator.js",723,t+" changed regulars moderation for symbols to true")):o[2].equalsIgnoreCase("false")&&(K.Symbols=!1,$.inidb.set("chatModerator","regularsModerateSymbols",K.Symbols),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.symbols.not.allowed")),$.logEvent("chatModerator.js",728,t+" changed regulars moderation for symbols to false"))}else if(i.equalsIgnoreCase("spam")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.toggle.spam",g(K.Spam)));o[2].equalsIgnoreCase("true")?(K.Spam=!0,$.inidb.set("chatModerator","regularsModerateSpam",K.Spam),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.spam.allowed")),$.logEvent("chatModerator.js",739,t+" changed regulars moderation for spam to true")):o[2].equalsIgnoreCase("false")&&(K.Spam=!1,$.inidb.set("chatModerator","regularsModerateSpam",K.Spam),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.spam.not.allowed")),$.logEvent("chatModerator.js",744,t+" changed regulars moderation for spam to false"))}else if(i.equalsIgnoreCase("emotes")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.toggle.emotes",g(K.Emotes)));o[2].equalsIgnoreCase("true")?(K.Emotes=!0,$.inidb.set("chatModerator","regularsModerateEmotes",K.Emotes),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.emotes.allowed")),$.logEvent("chatModerator.js",755,t+" changed regulars moderation for emotes to true")):o[2].equalsIgnoreCase("false")&&(K.Emotes=!1,$.inidb.set("chatModerator","regularsModerateEmotes",K.Emotes),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.emotes.not.allowed")),$.logEvent("chatModerator.js",760,t+" changed regulars moderation for emotes to false"))}else if(i.equalsIgnoreCase("colors")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.toggle.colors",g(K.Colors)));o[2].equalsIgnoreCase("true")?(K.Colors=!0,$.inidb.set("chatModerator","regularsModerateColors",K.Colors),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.colors.allowed")),$.logEvent("chatModerator.js",771,t+" changed regulars moderation for colors to true")):o[2].equalsIgnoreCase("false")&&(K.Colors=!1,$.inidb.set("chatModerator","regularsModerateColors",K.Colors),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.colors.not.allowed")),$.logEvent("chatModerator.js",776,t+" changed regulars moderation for colors to false"))}else if(i.equalsIgnoreCase("longmessages")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.toggle.long.msg",g(K.LongMsg)));o[2].equalsIgnoreCase("true")?(K.LongMsg=!0,$.inidb.set("chatModerator","regularsModerateLongMsg",K.LongMsg),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.long.messages.allowed")),$.logEvent("chatModerator.js",787,t+" changed regulars moderation for long messages to true")):o[2].equalsIgnoreCase("false")&&(K.LongMsg=!1,$.inidb.set("chatModerator","regularsModerateLongMsg",K.LongMsg),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.regulars.long.messages.not.allowed")),$.logEvent("chatModerator.js",792,t+" changed regulars moderation for long messages to false"))}}if(s.equalsIgnoreCase("subscribers")){if(!i)return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.usage"));if(i.equalsIgnoreCase("links")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.toggle.link",g(U.Links)));o[2].equalsIgnoreCase("true")?(U.Links=!0,$.inidb.set("chatModerator","subscribersModerateLinks",U.Links),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.links.allowed")),$.logEvent("chatModerator.js",691,t+" changed subscribers moderation for links to true")):o[2].equalsIgnoreCase("false")&&(U.Links=!1,$.inidb.set("chatModerator","subscribersModerateLinks",U.Links),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.links.not.allowed")),$.logEvent("chatModerator.js",696,t+" changed subscribers moderation for links to false"))}else if(i.equalsIgnoreCase("caps")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.toggle.caps",g(U.Caps)));o[2].equalsIgnoreCase("true")?(U.Caps=!0,$.inidb.set("chatModerator","subscribersModerateCaps",U.Caps),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.caps.allowed")),$.logEvent("chatModerator.js",707,t+" changed subscribers moderation for caps to true")):o[2].equalsIgnoreCase("false")&&(U.Caps=!1,$.inidb.set("chatModerator","subscribersModerateCaps",U.Caps),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.caps.not.allowed")),$.logEvent("chatModerator.js",712,t+" changed subscribers moderation for caps to false"))}else if(i.equalsIgnoreCase("symbols")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.toggle.symbols",g(U.Symbols)));o[2].equalsIgnoreCase("true")?(U.Symbols=!0,$.inidb.set("chatModerator","subscribersModerateSymbols",U.Symbols),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.symbols.allowed")),$.logEvent("chatModerator.js",723,t+" changed subscribers moderation for symbols to true")):o[2].equalsIgnoreCase("false")&&(U.Symbols=!1,$.inidb.set("chatModerator","subscribersModerateSymbols",U.Symbols),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.symbols.not.allowed")),$.logEvent("chatModerator.js",728,t+" changed subscribers moderation for symbols to false"))}else if(i.equalsIgnoreCase("spam")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.toggle.spam",g(U.Spam)));o[2].equalsIgnoreCase("true")?(U.Spam=!0,$.inidb.set("chatModerator","subscribersModerateSpam",U.Spam),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.spam.allowed")),$.logEvent("chatModerator.js",739,t+" changed subscribers moderation for spam to true")):o[2].equalsIgnoreCase("false")&&(U.Spam=!1,$.inidb.set("chatModerator","subscribersModerateSpam",U.Spam),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.spam.not.allowed")),$.logEvent("chatModerator.js",744,t+" changed subscribers moderation for spam to false"))}else if(i.equalsIgnoreCase("emotes")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.toggle.emotes",g(U.Emotes)));o[2].equalsIgnoreCase("true")?(U.Emotes=!0,$.inidb.set("chatModerator","subscribersModerateEmotes",U.Emotes),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.emotes.allowed")),$.logEvent("chatModerator.js",755,t+" changed subscribers moderation for emotes to true")):o[2].equalsIgnoreCase("false")&&(U.Emotes=!1,$.inidb.set("chatModerator","subscribersModerateEmotes",U.Emotes),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.emotes.not.allowed")),$.logEvent("chatModerator.js",760,t+" changed subscribers moderation for emotes to false"))}else if(i.equalsIgnoreCase("colors")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.toggle.colors",g(U.Colors)));o[2].equalsIgnoreCase("true")?(U.Colors=!0,$.inidb.set("chatModerator","subscribersModerateColors",U.Colors),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.colors.allowed")),$.logEvent("chatModerator.js",771,t+" changed subscribers moderation for colors to true")):o[2].equalsIgnoreCase("false")&&(U.Colors=!1,$.inidb.set("chatModerator","subscribersModerateColors",U.Colors),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.colors.not.allowed")),$.logEvent("chatModerator.js",776,t+" changed subscribers moderation for colors to false"))}else if(i.equalsIgnoreCase("longmessages")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.toggle.long.msg",g(U.LongMsg)));o[2].equalsIgnoreCase("true")?(U.LongMsg=!0,$.inidb.set("chatModerator","subscribersModerateLongMsg",U.LongMsg),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.long.messages.allowed")),$.logEvent("chatModerator.js",787,t+" changed subscribers moderation for long messages to true")):o[2].equalsIgnoreCase("false")&&(U.LongMsg=!1,$.inidb.set("chatModerator","subscribersModerateLongMsg",U.LongMsg),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.subscribers.long.messages.not.allowed")),$.logEvent("chatModerator.js",792,t+" changed subscribers moderation for long messages to false"))}}if(s.equalsIgnoreCase("silenttimeout")){if(!i)return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.usage"));if(i.equalsIgnoreCase("links")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.toggle.links",g(H.Links,!0)));o[2].equalsIgnoreCase("true")?(H.Links=!0,$.inidb.set("chatModerator","silentTimeoutLinks",H.Links),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.links.true")),$.logEvent("chatModerator.js",939,t+" enabled silent timeout for links")):o[2].equalsIgnoreCase("false")&&(H.Links=!1,$.inidb.set("chatModerator","silentTimeoutLinks",H.Links),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.links.false")),$.logEvent("chatModerator.js",944,t+" disabled silent timeout for links"))}else if(i.equalsIgnoreCase("caps")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.toggle.caps",g(H.Caps,!0)));o[2].equalsIgnoreCase("true")?(H.Caps=!0,$.inidb.set("chatModerator","silentTimeoutCaps",H.Caps),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.caps.true")),$.logEvent("chatModerator.js",955,t+" enabled silent timeout for caps")):o[2].equalsIgnoreCase("false")&&(H.Caps=!1,$.inidb.set("chatModerator","silentTimeoutCaps",H.Caps),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.caps.false")),$.logEvent("chatModerator.js",960,t+" disabled silent timeout for caps"))}else if(i.equalsIgnoreCase("symbols")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.toggle.symbols",g(H.Symbols,!0)));o[2].equalsIgnoreCase("true")?(H.Symbols=!0,$.inidb.set("chatModerator","silentTimeoutSymbols",H.Symbols),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.symbols.true")),$.logEvent("chatModerator.js",971,t+" enabled silent timeout for symbols")):o[2].equalsIgnoreCase("false")&&(H.Symbols=!1,$.inidb.set("chatModerator","silentTimeoutSymbols",H.Symbols),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.symbols.false")),$.logEvent("chatModerator.js",976,t+" disabled silent timeout for symbols"))}else if(i.equalsIgnoreCase("spam")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.toggle.spam",g(H.Spam,!0)));o[2].equalsIgnoreCase("true")?(H.Spam=!0,$.inidb.set("chatModerator","silentTimeoutSpam",H.Spam),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.spam.true")),$.logEvent("chatModerator.js",987,t+" enabled silent timeout for spam")):o[2].equalsIgnoreCase("false")&&(H.Spam=!1,$.inidb.set("chatModerator","silentTimeoutSpam",H.Spam),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.spam.false")),$.logEvent("chatModerator.js",992,t+" disabled silent timeout for spam"))}else if(i.equalsIgnoreCase("emotes")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.toggle.emotes",g(H.Emotes,!0)));o[2].equalsIgnoreCase("true")?(H.Emotes=!0,$.inidb.set("chatModerator","silentTimeoutEmotes",H.Emotes),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.emotes.true")),$.logEvent("chatModerator.js",1003,t+" enabled silent timeout for emotes")):o[2].equalsIgnoreCase("false")&&(H.Emotes=!1,$.inidb.set("chatModerator","silentTimeoutEmotes",H.Emotes),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.emotes.false")),$.logEvent("chatModerator.js",1008,t+" disabled silent timeout for emotes"))}else if(i.equalsIgnoreCase("colors")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.toggle.colors",g(H.Colors,!0)));o[2].equalsIgnoreCase("true")?(H.Colors=!0,$.inidb.set("chatModerator","silentTimeoutColors",H.Colors),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.colors.true")),$.logEvent("chatModerator.js",1019,t+" enabled silent timeout for colors")):o[2].equalsIgnoreCase("false")&&(H.Colors=!1,$.inidb.set("chatModerator","silentTimeoutColors",H.Colors),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.colors.false")),$.logEvent("chatModerator.js",1024,t+" disabled silent timeout for colors"))}else if(i.equalsIgnoreCase("longmessages")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.toggle.long.msg",g(H.LongMsg,!0)));o[2].equalsIgnoreCase("true")?(H.LongMsg=!0,$.inidb.set("chatModerator","silentTimeoutLongMsg",H.LongMsg),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.long.messages.true")),$.logEvent("chatModerator.js",1035,t+" enabled silent timeout for long messages")):o[2].equalsIgnoreCase("false")&&(H.LongMsg=!1,$.inidb.set("chatModerator","silentTimeoutLongMsg",H.LongMsg),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.long.messages.false")),$.logEvent("chatModerator.js",1040,t+" disabled silent timeout for long messages"))}else if(i.equalsIgnoreCase("blacklist")){if(!o[2])return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.toggle.blacklist",g(H.Blacklist,!0)));o[2].equalsIgnoreCase("true")?(H.Blacklist=!0,$.inidb.set("chatModerator","silentTimeoutBlacklist",H.Blacklist),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.blacklist.messages.true")),$.logEvent("chatModerator.js",1035,t+" enabled silent timeout for blacklist messages")):o[2].equalsIgnoreCase("false")&&(H.Blacklist=!1,$.inidb.set("chatModerator","silentTimeoutBlacklist",H.Blacklist),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.silenttimeout.blacklist.messages.false")),$.logEvent("chatModerator.js",1040,t+" disabled silent timeout for blacklist messages"))}}if(s.equalsIgnoreCase("linksmessage"))return i?(w=r.replace(s,"").trim(),$.inidb.set("chatModerator","linksMessage",w),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.link.message.set",w)),void $.logEvent("chatModerator.js",1056,t+' changed the links warning message to "'+w+'"')):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.link.message.usage"));if(s.equalsIgnoreCase("capsmessage"))return i?(C=r.replace(s,"").trim(),$.inidb.set("chatModerator","capsMessage",C),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.caps.message.set",C)),void $.logEvent("chatModerator.js",1071,t+' changed the caps warning message to "'+C+'"')):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.caps.message.usage"));if(s.equalsIgnoreCase("symbolsmessage"))return i?(q=r.replace(s,"").trim(),$.inidb.set("chatModerator","symbolsMessage",q),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.symbols.message.set",q)),void $.logEvent("chatModerator.js",1086,t+' changed the symbols warning message to "'+q+'"')):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.symbols.message.usage"));if(s.equalsIgnoreCase("emotesmessage"))return i?(N=r.replace(s,"").trim(),$.inidb.set("chatModerator","emotesMessage",N),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.emotes.message.set",N)),void $.logEvent("chatModerator.js",1101,t+' changed the emotes warning message to "'+N+'"')):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.emotes.message.usage"));if(s.equalsIgnoreCase("colorsmessage"))return i?(O=r.replace(s,"").trim(),$.inidb.set("chatModerator","colorsMessage",O),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.colors.message.set",O)),void $.logEvent("chatModerator.js",1116,t+' changed the colors warning message to "'+O+'"')):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.colors.message.usage"));if(s.equalsIgnoreCase("longmsgmessage"))return i?(R=r.replace(s,"").trim(),$.inidb.set("chatModerator","longMessageMessage",R),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.message.message.set",R)),void $.logEvent("chatModerator.js",1131,t+' changed the long messages warning message to "'+R+'"')):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.message.message.usage"));if(s.equalsIgnoreCase("spammessage"))return i?(L=r.replace(s,"").trim(),$.inidb.set("chatModerator","spamMessage",L),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.spam.message.set",L)),void $.logEvent("chatModerator.js",1146,t+' changed the spam warning message to "'+L+'"')):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.spam.message.usage"));if(s.equalsIgnoreCase("blacklistmessage"))return i?(W=r.replace(s,"").trim(),$.inidb.set("chatModerator","blacklistMessage",W),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.blacklist.message.set",W)),void $.logEvent("chatModerator.js",1161,t+' changed the spam warning message to "'+W+'"')):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.blacklist.message.usage"));if(s.equalsIgnoreCase("permittime"))return i?(I=parseInt(i),$.inidb.set("chatModerator","linkPermitTime",I),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.permit.time.set",I)),void $.logEvent("chatModerator.js",1176,t+" changed the link permit time to "+I+" seconds")):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.permit.time.usage"));if(s.equalsIgnoreCase("capslimit"))return i?(P=parseFloat(i),$.inidb.set("chatModerator","capsLimitPercent",P),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.caps.limit.set",P)),void $.logEvent("chatModerator.js",1191,t+" changed the caps limit to "+P)):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.caps.limit.usage"));if(s.equalsIgnoreCase("capstriggerlength"))return i?(x=parseInt(i),$.inidb.set("chatModerator","capsTriggerLength",x),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.caps.trigger.length.set",x)),void $.logEvent("chatModerator.js",1206,t+" changed the caps trigger length to "+x)):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.caps.trigger.length.usage"));if(s.equalsIgnoreCase("spamlimit"))return i?(E=parseInt(i),$.inidb.set("chatModerator","spamLimit",E),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.spam.limit.set",E)),void $.logEvent("chatModerator.js",1221,t+" changed the spam limit to "+E)):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.spam.limit.usage"));if(s.equalsIgnoreCase("symbolslimit"))return i?(D=parseFloat(i),$.inidb.set("chatModerator","symbolsLimitPercent",D),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.symbols.limit.set",D)),void $.logEvent("chatModerator.js",1236,t+" changed the symbols limit to "+D)):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.symbols.limit.usage"));if(s.equalsIgnoreCase("symbolsgrouplimit"))return i?(j=parseInt(i),$.inidb.set("chatModerator","symbolsLimitPercent",j),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.symbols.group.limit.set",j)),void $.logEvent("chatModerator.js",1251,t+" changed the symbols group limit to "+j)):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.symbols.group.limit.usage"));if(s.equalsIgnoreCase("symbolsTriggerLength"))return i?(T=parseInt(i),$.inidb.set("chatModerator","symbolsTriggerLength",T),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.symbols.trigger.length.set",T)),void $.logEvent("chatModerator.js",1266,t+" changed the symbols trigger length to "+T)):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.symbols.trigger.length.usage"));if(s.equalsIgnoreCase("emoteslimit"))return i?(F=parseInt(i),$.inidb.set("chatModerator","emotesLimit",F),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.emotes.limit.set",F)),void $.logEvent("chatModerator.js",1281,t+" changed the emote limit to "+F)):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.emotes.limit.usage"));if(s.equalsIgnoreCase("messagecharacterlimit"))return i?(A=parseInt(i),$.inidb.set("chatModerator","longMessageLimit",A),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.message.limit.set",A)),void $.logEvent("chatModerator.js",1296,t+" changed the max characters per message limit to "+A)):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.message.limit.usage"));if(s.equalsIgnoreCase("timeouttime"))return i?(J=parseInt(i),$.inidb.set("chatModerator","timeoutTime",J),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.timeout.time.set",J)),void $.logEvent("chatModerator.js",1311,t+" changed the timeout time to "+J+" seconds")):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.timeout.time.usage"));if(s.equalsIgnoreCase("warningtime"))return i?(z=parseInt(i),$.inidb.set("chatModerator","warningTime",z),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.warning.time.set",z)),void $.logEvent("chatModerator.js",1326,t+" changed the warning time to "+z+" seconds")):void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.warning.time.usage"));if(s.equalsIgnoreCase("messagecooldown")){if(!i)return void $.say($.whisperPrefix(t)+$.lang.get("chatmoderator.msgcooldown.usage"));Q=parseInt(i),$.inidb.set("chatModerator","msgCooldownSec",Q),$.say($.whisperPrefix(t)+$.lang.get("chatmoderator.msgcooldown.set",Q)),$.logEvent("chatModerator.js",1342,t+" changed the timeout message cooldown to "+Q+" seconds")}}}var u,b=[],f=[],M=[],p=[],y=$.getSetIniDbBoolean("chatModerator","linksToggle",!0),w=$.getSetIniDbString("chatModerator","linksMessage","you were timed out for linking"),I=$.getSetIniDbNumber("chatModerator","linkPermitTime",120),v=$.getSetIniDbBoolean("chatModerator","capsToggle",!0),C=$.getSetIniDbString("chatModerator","capsMessage","you were timed out for overusing caps"),P=$.getSetIniDbFloat("chatModerator","capsLimitPercent",50),x=$.getSetIniDbNumber("chatModerator","capsTriggerLength",15),S=$.getSetIniDbBoolean("chatModerator","spamToggle",!0),L=$.getSetIniDbString("chatModerator","spamMessage","you were timed out for spamming repeating characters"),E=$.getSetIniDbNumber("chatModerator","spamLimit",15),k=$.getSetIniDbBoolean("chatModerator","symbolsToggle",!0),q=$.getSetIniDbString("chatModerator","symbolsMessage","you were timed out for overusing symbols"),D=$.getSetIniDbFloat("chatModerator","symbolsLimitPercent",50),j=$.getSetIniDbFloat("chatModerator","symbolsGroupLimit",10),T=$.getSetIniDbNumber("chatModerator","symbolsTriggerLength",15),B=$.getSetIniDbBoolean("chatModerator","emotesToggle",!1),N=$.getSetIniDbString("chatModerator","emotesMessage","you were timed out for overusing emotes"),F=$.getSetIniDbNumber("chatModerator","emotesLimit",25),_=$.getSetIniDbBoolean("chatModerator","longMessageToggle",!0),R=$.getSetIniDbString("chatModerator","longMessageMessage","you were timed out for posting a long message"),A=$.getSetIniDbNumber("chatModerator","longMessageLimit",300),G=$.getSetIniDbBoolean("chatModerator","colorsToggle",!1),O=$.getSetIniDbString("chatModerator","colorsMessage","you were timed out for using /me."),U={
Links:$.getSetIniDbBoolean("chatModerator","subscribersModerateLinks",!0),Caps:$.getSetIniDbBoolean("chatModerator","subscribersModerateCaps",!0),Symbols:$.getSetIniDbBoolean("chatModerator","subscribersModerateSymbols",!0),Spam:$.getSetIniDbBoolean("chatModerator","subscribersModerateSpam",!0),Emotes:$.getSetIniDbBoolean("chatModerator","subscribersModerateEmotes",!0),Colors:$.getSetIniDbBoolean("chatModerator","subscribersModerateColors",!0),LongMsg:$.getSetIniDbBoolean("chatModerator","subscribersModerateLongMsg",!0)},K={Links:$.getSetIniDbBoolean("chatModerator","regularsModerateLinks",!0),Caps:$.getSetIniDbBoolean("chatModerator","regularsModerateCaps",!0),Symbols:$.getSetIniDbBoolean("chatModerator","regularsModerateSymbols",!0),Spam:$.getSetIniDbBoolean("chatModerator","regularsModerateSpam",!0),Emotes:$.getSetIniDbBoolean("chatModerator","regularsModerateEmotes",!0),Colors:$.getSetIniDbBoolean("chatModerator","regularsModerateColors",!0),LongMsg:$.getSetIniDbBoolean("chatModerator","regularsModerateLongMsg",!0)},H={Links:$.getSetIniDbBoolean("chatModerator","silentTimeoutLinks",!1),Caps:$.getSetIniDbBoolean("chatModerator","silentTimeoutCaps",!1),Symbols:$.getSetIniDbBoolean("chatModerator","silentTimeoutSymbols",!1),Spam:$.getSetIniDbBoolean("chatModerator","silentTimeoutSpam",!1),Emotes:$.getSetIniDbBoolean("chatModerator","silentTimeoutEmotes",!1),Colors:$.getSetIniDbBoolean("chatModerator","silentTimeoutColors",!1),LongMsg:$.getSetIniDbBoolean("chatModerator","silentTimeoutLongMsg",!1),Blacklist:$.getSetIniDbBoolean("chatModerator","silentTimeoutBlacklist",!1)},W=$.getSetIniDbString("chatModerator","blacklistMessage","you were timed out for using a blacklisted phrase"),z=$.getSetIniDbNumber("chatModerator","warningTime",5),J=$.getSetIniDbNumber("chatModerator","timeoutTime",600),Q=$.getSetIniDbNumber("chatModerator","msgCooldownSec",30),V="",X=36e5+$.systemTime(),Y=0,Z=0;$.bind("ircChannelMessage",function(e){var t=e.getSender(),a=e.getMessage().toLowerCase(),r=a.length();if(!$.isModv3(t,e.getTags())){if(y&&$.patternDetector.hasLinks(e)){if(c(a)||l(t.toLowerCase())||m(a))return;if(!K.Links&&$.isReg(t)||!U.Links&&$.isSubv3(t,e.getTags()))return;return o(t),i(t,w,H.Links),void $.logEvent("chatModerator.js",269,t+" was timed out for linking.")}if(v&&r>x&&parseFloat($.patternDetector.getNumberOfCaps(e))/r*100>P){if(!K.Caps&&$.isReg(t)||!U.Caps&&$.isSubv3(t,e.getTags()))return;return o(t),i(t,C,H.Caps),void $.logEvent("chatModerator.js",280,t+" was timed out for overusing caps.")}if(k&&r>T&&($.patternDetector.getLongestNonLetterSequence(e)>j||parseFloat($.patternDetector.getNumberOfNonLetters(e))/r*100>D)){if(!K.Symbols&&$.isReg(t)||!U.Symbols&&$.isSubv3(t,e.getTags()))return;return o(t),i(t,q,H.Symbols),void $.logEvent("chatModerator.js",292,t+" was timed out for overusing symbols.")}if(S&&$.patternDetector.getLongestRepeatedSequence(e)>E){if(!K.Spam&&$.isReg(t)||!U.Spam&&$.isSubv3(t,e.getTags()))return;return o(t),i(t,L,H.Spam),void $.logEvent("chatModerator.js",303,t+" was timed out for spamming.")}if(B&&$.patternDetector.getNumberOfEmotes(e)>F){if(!K.Emotes&&$.isReg(t)||!U.Emotes&&$.isSubv3(t,e.getTags()))return;return o(t),i(t,N,H.Emotes),void $.logEvent("chatModerator.js",313,t+" was timed out for overusing emotes.")}if(G&&a.startsWith("/me")){if(!K.Colors&&$.isReg(t)||!U.Colors&&$.isSubv3(t,e.getTags()))return;return o(t),i(t,O,H.Colors),void $.logEvent("chatModerator.js",323,t+" was timed out for using /me")}if(_&&r>A){if(!K.LongMsg&&$.isReg(t)||!U.LongMsg&&$.isSubv3(t,e.getTags()))return;return o(t),i(t,R,H.LongMsg),void $.logEvent("chatModerator.js",333,t+" was timed out for posting a long message.")}a&&d(t,a)}}),$.bind("command",function(r){var o=r.getSender(),s=r.getCommand(),i=r.getArguments(),g=r.getArgs(),l=g[0],d=g[1];if(h(r),s.equalsIgnoreCase("permit")){if(!$.isModv3(o,r.getTags()))return void $.say($.whisperPrefix(o)+$.modMsg);if(!y)return;return l?(n(l.toLowerCase()),$.say($.username.resolve(l)+$.lang.get("chatmoderator.permited",I)),void $.logEvent("chatModerator.js",365,l+" was permited by "+o)):void $.say($.whisperPrefix(o)+$.lang.get("chatmoderator.permit.usage"))}if(s.equalsIgnoreCase("blacklist")){if(!$.isAdmin(o))return void $.say($.whisperPrefix(o)+$.adminMsg);if(!l)return void $.say($.whisperPrefix(o)+$.lang.get("chatmoderator.blacklist.usage"));if(l.equalsIgnoreCase("add")){if(!d)return void $.say($.whisperPrefix(o)+$.lang.get("chatmoderator.blacklist.add.usage"));var m=i.replace(l,"").trim().toLowerCase();$.inidb.set("blackList","phrase_"+p.length,m),p.push(m),$.say($.whisperPrefix(o)+$.lang.get("chatmoderator.blacklist.added")),$.logEvent("chatModerator.js",395,'"'+m+'" was added to the blacklist by '+o)}if(l.equalsIgnoreCase("remove")){if(!d)return void $.say($.whisperPrefix(o)+$.lang.get("chatmoderator.blacklist.remove.usage"));if(!$.inidb.exists("blackList","phrase_"+parseInt(d)))return void $.say($.whisperPrefix(o)+$.lang.get("chatmoderator.err"));$.inidb.del("blackList","phrase_"+parseInt(d)),t(),$.say($.whisperPrefix(o)+$.lang.get("chatmoderator.blacklist.removed"))}if(l.equalsIgnoreCase("show")){if(!d)return void $.say($.whisperPrefix(o)+$.lang.get("chatmoderator.blacklist.show.usage"));if(!$.inidb.exists("blackList","phrase_"+parseInt(d)))return void $.say($.whisperPrefix(o)+$.lang.get("chatmoderator.err"));$.say($.whisperPrefix(o)+$.inidb.get("blackList","phrase_"+parseInt(d)))}}if(s.equalsIgnoreCase("whiteList")){if(!$.isAdmin(o))return void $.say($.whisperPrefix(o)+$.adminMsg);if(!l)return void $.say($.whisperPrefix(o)+$.lang.get("chatmoderator.whitelist.usage"));if(l.equalsIgnoreCase("add")){if(!d)return void $.say($.whisperPrefix(o)+$.lang.get("chatmoderator.whitelist.add.usage"));var c=i.replace(l,"").trim().toLowerCase();$.inidb.set("whiteList","link_"+M.length,c),M.push(c),$.say($.whisperPrefix(o)+$.lang.get("chatmoderator.whitelist.link.added")),$.logEvent("chatModerator.js",455,'"'+c+'" was added the the whitelist by '+o)}if(l.equalsIgnoreCase("remove")){if(!d)return void $.say($.whisperPrefix(o)+$.lang.get("chatmoderator.whitelist.remove.usage"));if(!$.inidb.exists("whiteList","link_"+parseInt(d)))return void $.say($.whisperPrefix(o)+$.lang.get("chatmoderator.err"));$.inidb.del("whiteList","link_"+parseInt(d)),a(),$.say($.whisperPrefix(o)+$.lang.get("chatmoderator.whitelist.removed"))}if(l.equalsIgnoreCase("show")){if(!d)return void $.say($.whisperPrefix(o)+$.lang.get("chatmoderator.whitelist.show.usage"));if(!$.inidb.exists("whiteList","link_"+parseInt(d)))return void $.say($.whisperPrefix(o)+$.lang.get("chatmoderator.err"));$.say($.whisperPrefix(o)+$.inidb.get("whiteList","link_"+parseInt(d)))}}s.equalsIgnoreCase("reloadmod")&&e()}),$.bind("initReady",function(){$.bot.isModuleEnabled("./core/chatmoderator.js")&&(a(),t(),$.registerChatCommand("./core/chatmoderator.js","permit",2),$.registerChatCommand("./core/chatmoderator.js","moderation",1),$.registerChatCommand("./core/chatmoderator.js","mod",1),$.registerChatCommand("./core/chatmoderator.js","blacklist",1),$.registerChatCommand("./core/chatmoderator.js","whitelist",1),$.registerChatCommand("./core/chatmoderator.js","reloadmod",1))}),$.timeoutUser=r,$.permitUserLink=n}();
