(function(){var e="";function n(e,n,t){var r;for(r in e){if(t>-1){if(e[r][t]==n){return true}}else{if(e[r]==n){return true}}}return false}function t(e){return $.inidb.exists("visited",e)}function r(e){var n;if($.inidb.exists("followed",e)){return true}else{n=$.twitch.GetUserFollowsChannel($.username.resolve(e.toLowerCase()),$.channelName);if(n.getInt("_http")==200){return true}}return false}function a(){return e}function u(e){if(e==null||e==undefined){return 0}if(typeof e.length instanceof java.lang.String){if((typeof e.length).equalsIgnoreCase("number")){return e.length}else{return e.length}}else{if(typeof e.length=="number"){return e.length}else{return e.length}}}function i(e){$.consoleLn("[CHAT] "+e);if($.channel){if(e.substr(0,1).equals($.ircPrefix)){$.channel.say(e);return}if($.getIniDbBoolean("settings","response_@chat")){if($.getIniDbBoolean("settings","response_action")&&!e.substr(0,2).equals("/w")){$.channel.say("/me "+e.replace(/^\/me/,""))}else{$.channel.say(e)}}}}function o(){return parseInt(java.lang.System.currentTimeMillis())}function s(e){if(e==0){return e}$.random=new java.security.SecureRandom;return Math.abs($.random.nextInt())%e}function l(e,n){if(e==n){return e}return $.rand(n)+e}function c(e){if(e==null){return null}return e[$.randRange(0,e.length-1)]}function f(e){var n=[];while(e.length>0){n.push(e.splice(s(e.length-1),1))}return n}function g(e,n){return Math.floor(Math.random()*(n-e+1)+e)}function d(e,n){if(e==n){return e}try{var t=Packages.com.gmt2001.HttpRequest,r=Packages.java.util.HashMap,a=Packages.org.json.JSONObject,u=new a("{}"),i=new a("{}"),o=new r(1),s=$.rand(65535),l;o.put("Content-Type","application/json-rpc");i.put("apiKey","0d710311-5840-45dd-be83-82904de87c5d").put("n",1).put("min",e).put("max",n).put("replacement",true).put("base",10);u.put("jsonrpc","2.0").put("method","generateIntegers").put("params",i).put("id",s);l=t.getData(t.RequestType.GET,"https://api.random.org/json-rpc/1/invoke",u.toString(),o);if(l.success){var c=new a(l.content).getJSONObject("result").getJSONObject("random").getJSONArray("data");if(c.length()>0){return c.getInt(0)}}else{if(l.httpCode==0){$.logError("misc.js",478,"Failed to use random.org: "+l.exception)}else{$.logError("misc.js",480,"Failed to use random.org: HTTP"+l.httpCode+" "+l.content)}}}catch(f){$.logError("misc.js",484,"Failed to use random.org: "+f)}return $.randRange(e,n)}function p(e){if(e==null){return null}return e[$.trueRand(e.length-1)]}function h(e){return $.trueRandRange(0,e)}function m(e,n,t){return e<n&&e>t}function b(e){var n=["th","st","nd","rd"],t=e%100;return e+(n[(t-20)%10]||n[t]||n[0])}function y(e,n){return Math.ceil(e/n*100)}function v(e,n,t){if($.inidb.exists(e,n)){return $.inidb.get(e,n)=="true"}else{return t}}function j(e,n,t){$.inidb.set(e,n,t.toString())}$.list={contains:n};$.user={isKnown:t,isFollower:r};$.arrayShuffle=f;$.getCurrentHostTarget=a;$.getIniDbBoolean=v;$.getOrdinal=b;$.getPercentage=y;$.outOfRange=m;$.rand=s;$.randElement=c;$.randInterval=g;$.randRange=l;$.say=i;$.setIniDbBoolean=j;$.strlen=u;$.systemTime=o;$.trueRand=h;$.trueRandElement=p;$.trueRandRange=d})();