!function(){var e=$.inidb.exists("dualStreamCommand","otherChannels")?$.inidb.get("dualStreamCommand","otherChannels"):null,a=$.inidb.exists("dualStreamCommand","timerToggle")?$.inidb.get("dualStreamCommand","timerToggle"):!1,r=parseInt($.inidb.exists("dualStreamCommand","timerInterval"))?parseInt($.inidb.get("dualStreamCommand","timerInterval")):5,n=!1;$.bind("command",function(n){var i=n.getSender(),m=n.getCommand(),s=n.getArgs(),t=n.getArguments().trim(),d=t,l=s[0],o=s[1];if(m.equalsIgnoreCase("multi")){if(!l){if(null!=e)return void $.say($.lang.get("dualstreamcommand.link")+$.username.resolve($.channelName)+e);if($.isModv3(i,n.getTags()))return void $.say($.whisperPrefix(i)+$.lang.get("dualstreamcommand.usage"))}if(l.equalsIgnoreCase("set"))return $.isModv3(i,n.getTags())?o?(d=d.replace(l+" ","/"),d=d.replace(" ","/"),e=d,$.inidb.set("dualStreamCommand","otherChannels",e),void $.say($.lang.get("dualstreamcommand.link.set",$.username.resolve($.channelName)+e))):void $.say($.whisperPrefix(i)+$.lang.get("dualstreamcommand.set.usage")):void $.say($.whisperPrefix(i)+$.modMsg);if(l.equalsIgnoreCase("clear"))return $.isModv3(i,n.getTags())?(e=null,a=!1,$.inidb.del("dualStreamCommand","otherChannels"),$.inidb.set("dualStreamCommand","timerToggle",a),void $.say($.whisperPrefix(i)+$.lang.get("dualstreamcommand.clear"))):void $.say($.whisperPrefix(i)+$.modMsg);if(l.equalsIgnoreCase("timer"))return $.isModv3(i,n.getTags())?o?o.equalsIgnoreCase("on")?(a=!0,$.inidb.set("dualStreamCommand","timerToggle",a),void $.say($.whisperPrefix(i)+$.lang.get("dualstreamcommand.timer.enabled"))):o.equalsIgnoreCase("off")?(a=!1,$.inidb.set("dualStreamCommand","timerToggle",a),void $.say($.whisperPrefix(i)+$.lang.get("dualstreamcommand.timer.disabled"))):void $.say($.whisperPrefix(i)+$.lang.get("dualstreamcommand.timer.usage")):void $.say($.whisperPrefix(i)+$.lang.get("dualstreamcommand.timer.usage")):void $.say($.whisperPrefix(i)+$.modMsg);if(l.equalsIgnoreCase("timerinterval"))return $.isModv3(i,n.getTags())?o?parseInt(o)<5?void $.say($.whisperPrefix(i)+$.lang.get("dualstreamcommand.timerinterval.err")):(r=parseInt(o),$.inidb.set("dualStreamCommand","timerInterval",r),void $.say($.whisperPrefix(i)+$.lang.get("dualstreamcommand.timerinterval.set"))):void $.say($.whisperPrefix(i)+$.lang.get("dualstreamcommand.timerinterval.usage")):void $.say($.whisperPrefix(i)+$.modMsg)}}),$.bind("initReady",function(){$.bot.isModuleEnabled("./commands/dualstreamCommand.js")&&($.registerChatCommand("./commands/dualstreamCommand.js","multi",7),n||(n=!0,setInterval(function(){return null!=e&&a&&$.isOnline($.channelName)?void $.say($.lang.get("dualstreamcommand.link")+$.username.resolve($.channelName)+e):void 0},60*r*1e3)))})}();
