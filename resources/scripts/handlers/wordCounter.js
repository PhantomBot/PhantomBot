!function(){$.bind("command",function(e){var r=e.getSender(),o=e.getCommand(),n=e.getArgs(),t=n[0],i=n[1].toLowerCase();if(o.equalsIgnoreCase("wordcounter")){if(!$.isAdmin(r))return void $.say($.whisperPrefix(r)+$.adminMsg);if(!t)return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.usage"));if(t.equalsIgnoreCase("add")){if(!i)return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.add.usage"));i=i.replace(t,""),$.inidb.set("wordCounter",i,0),$.say(i+$.lang.get("wordcounter.added")),$.logEvent("wordCounter.js",236,r+' added "'+i+'" to the word counter list')}if(t.equalsIgnoreCase("remove")){if(!i)return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.remove.usage"));if(!$.inidb.exists("wordCounter",i))return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.err.404"));i=i.replace(t,""),$.inidb.del("wordCounter",i),$.say(i+$.lang.get("wordcounter.removed")),$.logEvent("wordCounter.js",236,r+' removed "'+i+'" to the word counter list')}}if(o.equalsIgnoreCase("count")){if(!$.inidb.exists("wordCounter",t.toLowerCase()))return void $.say($.whisperPrefix(r)+$.lang.get("wordcounter.err.404"));$.say($.lang.get("wordcounter.count",t,$.inidb.get("wordCounter",t.toLowerCase())))}}),$.bind("ircChannelMessage",function(e){var r,o,n=e.getMessage().toLowerCase(),t=$.inidb.GetKeyList("wordCounter","");if($.bot.isModuleEnabled("./handlers/wordCounter.js"))for(i in t)if(o=t[i].toLowerCase(),r=new RegExp("\\b"+o+"\\b","g"),r.exec(n)){$.consoleDebug("inidb incr"+o+" 1 in word counter"),$.inidb.incr("wordCounter",o,1);break}}),$.bind("initReady",function(){$.bot.isModuleEnabled("./handlers/wordCounter.js")&&($.registerChatCommand("./handlers/wordCounter.js","wordcounter",1),$.registerChatCommand("./handlers/wordCounter.js","count",7))})}();
