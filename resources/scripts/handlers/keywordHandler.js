!function(){$.bind("ircChannelMessage",function(e){for(var r=e.getMessage().toLowerCase(),d=e.getSender(),i="",n="",a="",s=$.inidb.GetKeyList("keywords",""),o=0;o<s.length;o++)if(a=s[o].toLowerCase(),i=RegExp("\\b"+a+"\\b","i"),i.exec(r))return n=$.inidb.get("keywords",a),n=n.replace("(sender)",d),void $.say(n)}),$.bind("command",function(e){var r=e.getSender(),d=e.getCommand(),i=e.getArguments().trim(),n=e.getArgs(),a=n[0],s=n[1];if(d.equalsIgnoreCase("keyword")){if(!$.isAdmin(r))return void $.say($.whisperPrefix(r)+$.adminMsg);if(!a)return void $.say($.whisperPrefix(r)+$.lang.get("keywordhandler.keyword.usage"));if(a.equalsIgnoreCase("add")){if(!s)return void $.say($.whisperPrefix(r)+$.lang.get("keywordhandler.add.usage"));var o=s,t=i.substring(i.indexOf(o)+o.length()+1);return $.inidb.set("keywords",o,t),void $.say($.whisperPrefix(r)+$.lang.get("keywordhandler.keyword.added",o))}if(a.equalsIgnoreCase("remove")){if(!s)return void $.say($.whisperPrefix(r)+$.lang.get("keywordhandler.remove.usage"));if(!$.inidb.exists("keywords",o))return void $.say($.whisperPrefix(r)+$.lang.get("keywordhandler.keyword.404"));$.inidb.del("keywords",o),$.say($.whisperPrefix(r)+$.lang.get("keywordhandler.keyword.removed",o))}}}),$.bind("initReady",function(){$.bot.isModuleEnabled("./handlers/keywordHandler.js")&&$.registerChatCommand("./handlers/keywordHandler.js","keyword",1)})}();
